/*!
* JS SDK Library 1.1.0 11/6/2025, 5:39:41 PM
* Copyright(c) Guandata, Inc.  All rights reserved.
*/
!function(){"use strict";function e(e,t,n){return t=i(t),f(e,u()?Reflect.construct(t,[],i(e).constructor):t.apply(e,n))}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(u())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&l(o,n.prototype),o}(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},p(e)}function h(e){var t=[];return Object.keys(e).forEach((function(n){e[n]||t.push(n)})),t.length?"缺少 ".concat(t.join("、")," 参数"):null}function y(e,t){customElements.get(e)||customElements.define(e,t)}var v=function(n){function o(){var n;return t(this,o),(n=e(this,o)).attachShadow({mode:"open"}),n}return c(o,n),r(o,[{key:"appendToShadow",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.map((function(t){return e.shadowRoot.appendChild(t)}))}},{key:"getAttributes",value:function(e){var t=this;return e.reduce((function(e,n){return e[n]=t.getAttribute(n)||void 0,e}),{})}},{key:"getDatasets",value:function(){var e=this.dataset;return Object.keys(e).reduce((function(t,n){return t[function(e){var t=e.split("-");return 1===t.length?e:t.reduce((function(e,t){return e+t[0].toUpperCase()+t.slice(1)}),"")}(n)]=e[n],t}),{})}}])}(p(HTMLElement)),b="__gd__sdk__send__init",g="__gd__sdk__send__message",m=r((function e(){var n=this;t(this,e),o(this,"contentWindow",null),o(this,"targetOrigin","*"),o(this,"connectId",null),o(this,"messageQueue",[]),o(this,"setContentWindow",(function(e){n.contentWindow=e})),o(this,"handleMessage",(function(e){if(e.source===n.contentWindow&&e.data){var t=e.data,r=t.connID;if(t.action===b)n.connectId=r,n.cleanMessageQueue()}})),o(this,"cleanMessageQueue",(function(){if(n.messageQueue.length>0){var e=n.messageQueue.slice();n.messageQueue=[],e.forEach((function(e){return n.sendMessage(e)}))}})),o(this,"sendMessage",(function(e){if(n.contentWindow&&n.connectId)try{var t=s({connID:n.connectId},e);n.contentWindow.postMessage(t,n.targetOrigin)}catch(t){console.error("web sdk send message error, message: ",e),console.error(t)}else n.messageQueue.push(e)})),window.addEventListener("message",this.handleMessage)})),w=["host","domain","ssoToken","ps","width","height","gyAppId","filters","theme"],O=function(n){function o(){var n;return t(this,o),(n=e(this,o)).connector=new m,n}return c(o,n),r(o,[{key:"renderIframe",value:function(e){var t=e.src,n=e.attrs,r=n.width,o=void 0===r?"100%":r,i=n.height,c=void 0===i?300:i,u=n.ssoToken,a=n.ps,f=n.domain,l=n.theme,d=document.createElement("iframe");d.width=o,d.height=c+"px",d.src=t+this.queryStringify(s({ssoToken:u,provider:f,ps:a,theme:l},this.getDatasets()));var p=document.createElement("style");p.textContent="iframe { border: none; }",this.appendToShadow(p,d),this.connector.setContentWindow(d.contentWindow)}},{key:"renderTip",value:function(e){var t=document.createElement("div");t.className="tipError",t.textContent=e;var n=document.createElement("style");n.textContent=".tipError { padding: 20px; font-size: 16px; text-align: center; color: #e6493e; }",this.appendToShadow(n,t)}},{key:"queryStringify",value:function(e){var t=[];return Object.keys(e).forEach((function(n){var r=e[n];null!=r&&t.push("".concat(n,"=").concat(encodeURIComponent(r)))})),"?"+t.join("&")}},{key:"handleFiltersStr",value:function(e,t){var n=function(e,t){var n=t;try{n=JSON.parse(e)}catch(e){console.error("web sdk parse json error: ",e)}return n||t}(e,t);n&&this.updateFilters(n)}},{key:"updateFilters",value:function(e){var t={action:g,data:e};this.connector.sendMessage(t)}}])}(v),j=w.concat("cdId"),k=function(n){function o(){var n;t(this,o);var r=(n=e(this,o)).getAttributes(j),i=r.host,c=r.domain,u=r.ssoToken,a=r.cdId,s=h({host:i,domain:c,ssoToken:u,cdId:a});return s?f(n,n.renderTip(s)):(n.renderIframe({src:n.genBaseUrl(i,a),attrs:r}),n)}return c(o,n),r(o,[{key:"genBaseUrl",value:function(e,t){return e+"/card/"+t}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&this.handleFiltersStr(n,null===n?[]:void 0)}}],[{key:"observedAttributes",get:function(){return["filters"]}}])}(O);y("gd-card",k);var _=w.concat("dashboardId");y("gd-dashboard",function(n){function o(){var n;t(this,o);var r=(n=e(this,o)).getAttributes(_),i=r.host,c=r.domain,u=r.ssoToken,a=r.dashboardId,s=h({host:i,domain:c,ssoToken:u,dashboardId:a});return s?f(n,n.renderTip(s)):(n.renderIframe({src:n.genBaseUrl(i,a),attrs:r}),n)}return c(o,n),r(o,[{key:"genBaseUrl",value:function(e,t){return e+"/page/"+t}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&this.handleFiltersStr(n,null===n?[]:void 0)}}],[{key:"observedAttributes",get:function(){return["filters"]}}])}(O))}();

/*
 * Guandata Viz SDK Library 1.0.7 2025/11/06 13:42:07
 * Copyright(c) Guandata, Inc.  All rights reserved.
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,(()=>(()=>{"use strict";var t={4316:(t,e,r)=>{var n=r(3994),o=r(7535),a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(o(t)+" is not a function")}},8908:(t,e,r)=>{var n=r(848),o=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a("Can't set "+o(t)+" as a prototype")}},7702:(t,e,r)=>{var n=r(6493),o=r(1702),a=r(5266).f,i=n("unscopables"),u=Array.prototype;void 0===u[i]&&a(u,i,{configurable:!0,value:o(null)}),t.exports=function(t){u[i][t]=!0}},9161:(t,e,r)=>{var n=r(3669).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},983:(t,e,r)=>{var n=r(7346),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new o("Incorrect invocation")}},1190:(t,e,r)=>{var n=r(7595),o=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(o(t)+" is not an object")}},403:(t,e,r)=>{var n=r(5495),o=r(4074),a=r(4578),i=function(t){return function(e,r,i){var u=n(e),c=a(u);if(0===c)return!t&&-1;var s,l=o(i,c);if(t&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},7300:(t,e,r)=>{var n=r(3059);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},2507:(t,e,r)=>{var n=r(4316),o=r(5710),a=r(1364),i=r(4578),u=TypeError,c="Reduce of empty array with no initial value",s=function(t){return function(e,r,s,l){var f=o(e),p=a(f),h=i(f);if(n(r),0===h&&s<2)throw new u(c);var d=t?h-1:0,v=t?-1:1;if(s<2)for(;;){if(d in p){l=p[d],d+=v;break}if(d+=v,t?d<0:h<=d)throw new u(c)}for(;t?d>=0:h>d;d+=v)d in p&&(l=r(l,p[d],d,f));return l}};t.exports={left:s(!1),right:s(!0)}},1117:(t,e,r)=>{var n=r(8246),o=r(9354),a=TypeError,i=Object.getOwnPropertyDescriptor,u=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,e){if(o(t)&&!i(t,"length").writable)throw new a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},9713:(t,e,r)=>{var n=r(1190),o=r(6765);t.exports=function(t,e,r,a){try{return a?e(n(r)[0],r[1]):e(r)}catch(e){o(t,"throw",e)}}},9187:(t,e,r)=>{var n=r(135),o=n({}.toString),a=n("".slice);t.exports=function(t){return a(o(t),8,-1)}},4494:(t,e,r)=>{var n=r(4157),o=r(3994),a=r(9187),i=r(6493)("toStringTag"),u=Object,c="Arguments"===a(function(){return arguments}());t.exports=n?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=u(t),i))?r:c?a(e):"Object"===(n=a(e))&&o(e.callee)?"Arguments":n}},8842:(t,e,r)=>{var n=r(8675),o=r(9920),a=r(9515),i=r(5266);t.exports=function(t,e,r){for(var u=o(e),c=i.f,s=a.f,l=0;l<u.length;l++){var f=u[l];n(t,f)||r&&n(r,f)||c(t,f,s(e,f))}}},210:(t,e,r)=>{var n=r(3059);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9683:t=>{t.exports=function(t,e){return{value:t,done:e}}},6706:(t,e,r)=>{var n=r(8246),o=r(5266),a=r(1111);t.exports=n?function(t,e,r){return o.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},1111:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},618:(t,e,r)=>{var n=r(8246),o=r(5266),a=r(1111);t.exports=function(t,e,r){n?o.f(t,e,a(0,r)):t[e]=r}},1118:(t,e,r)=>{var n=r(3217),o=r(5266);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},55:(t,e,r)=>{var n=r(3994),o=r(5266),a=r(3217),i=r(6319);t.exports=function(t,e,r,u){u||(u={});var c=u.enumerable,s=void 0!==u.name?u.name:e;if(n(r)&&a(r,s,u),u.global)c?t[e]=r:i(e,r);else{try{u.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return t}},3674:(t,e,r)=>{var n=r(55);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},6319:(t,e,r)=>{var n=r(2436),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},8246:(t,e,r)=>{var n=r(3059);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6:(t,e,r)=>{var n=r(2436),o=r(7595),a=n.document,i=o(a)&&o(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},629:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},2767:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},5980:(t,e,r)=>{var n=r(6)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},7786:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1616:(t,e,r)=>{var n=r(8642);t.exports="NODE"===n},1056:(t,e,r)=>{var n=r(2436).navigator,o=n&&n.userAgent;t.exports=o?String(o):""},7928:(t,e,r)=>{var n,o,a=r(2436),i=r(1056),u=a.process,c=a.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},8642:(t,e,r)=>{var n=r(2436),o=r(1056),a=r(9187),i=function(t){return o.slice(0,t.length)===t};t.exports=i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},5298:(t,e,r)=>{var n=r(135),o=Error,a=n("".replace),i=String(new o("zxcasd").stack),u=/\n\s*at [^:]*:[^\n]*/,c=u.test(i);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)for(;e--;)t=a(t,u,"");return t}},4837:(t,e,r)=>{var n=r(6706),o=r(5298),a=r(2002),i=Error.captureStackTrace;t.exports=function(t,e,r,u){a&&(i?i(t,e):n(t,"stack",o(r,u)))}},2002:(t,e,r)=>{var n=r(3059),o=r(1111);t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},3717:(t,e,r)=>{var n=r(2436),o=r(9515).f,a=r(6706),i=r(55),u=r(6319),c=r(8842),s=r(442);t.exports=function(t,e){var r,l,f,p,h,d=t.target,v=t.global,y=t.stat;if(r=v?n:y?n[d]||u(d,{}):n[d]&&n[d].prototype)for(l in e){if(p=e[l],f=t.dontCallGetSet?(h=o(r,l))&&h.value:r[l],!s(v?l:d+(y?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&a(p,"sham",!0),i(r,l,p,t)}}},3059:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7497:(t,e,r)=>{r(9152);var n=r(2818),o=r(55),a=r(1696),i=r(3059),u=r(6493),c=r(6706),s=u("species"),l=RegExp.prototype;t.exports=function(t,e,r,f){var p=u(t),h=!i((function(){var e={};return e[p]=function(){return 7},7!==""[t](e)})),d=h&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[s]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!h||!d||r){var v=/./[p],y=e(p,""[t],(function(t,e,r,o,i){var u=e.exec;return u===a||u===l.exec?h&&!i?{done:!0,value:n(v,e,r,o)}:{done:!0,value:n(t,r,e,o)}:{done:!1}}));o(String.prototype,t,y[0]),o(l,p,y[1])}f&&c(l[p],"sham",!0)}},8986:(t,e,r)=>{var n=r(4010),o=Function.prototype,a=o.apply,i=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?i.bind(a):function(){return i.apply(a,arguments)})},2567:(t,e,r)=>{var n=r(9090),o=r(4316),a=r(4010),i=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:a?i(t,e):function(){return t.apply(e,arguments)}}},4010:(t,e,r)=>{var n=r(3059);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2818:(t,e,r)=>{var n=r(4010),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},9273:(t,e,r)=>{var n=r(8246),o=r(8675),a=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,u=o(a,"name"),c=u&&"something"===function(){}.name,s=u&&(!n||n&&i(a,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},3928:(t,e,r)=>{var n=r(135),o=r(4316);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},9090:(t,e,r)=>{var n=r(9187),o=r(135);t.exports=function(t){if("Function"===n(t))return o(t)}},135:(t,e,r)=>{var n=r(4010),o=Function.prototype,a=o.call,i=n&&o.bind.bind(a,a);t.exports=n?i:function(t){return function(){return a.apply(t,arguments)}}},1104:(t,e,r)=>{var n=r(2436),o=r(3994),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t]):n[t]&&n[t][e]}},2742:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},2668:(t,e,r)=>{var n=r(2818),o=r(1190),a=r(2742),i=r(5463);t.exports=function(t,e){e&&"string"==typeof t||o(t);var r=i(t);return a(o(void 0!==r?n(r,t):t))}},5463:(t,e,r)=>{var n=r(4494),o=r(4364),a=r(8385),i=r(9928),u=r(6493)("iterator");t.exports=function(t){if(!a(t))return o(t,u)||o(t,"@@iterator")||i[n(t)]}},2005:(t,e,r)=>{var n=r(2818),o=r(4316),a=r(1190),i=r(7535),u=r(5463),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?u(t):e;if(o(r))return a(n(r,t));throw new c(i(t)+" is not iterable")}},4364:(t,e,r)=>{var n=r(4316),o=r(8385);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},6563:(t,e,r)=>{var n=r(135),o=r(5710),a=Math.floor,i=n("".charAt),u=n("".replace),c=n("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,f,p){var h=r+t.length,d=n.length,v=l;return void 0!==f&&(f=o(f),v=s),u(p,v,(function(o,u){var s;switch(i(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,h);case"<":s=f[c(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>d){var p=a(l/10);return 0===p?o:p<=d?void 0===n[p-1]?i(u,1):n[p-1]+i(u,1):o}s=n[l-1]}return void 0===s?"":s}))}},2436:function(t,e,r){var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},8675:(t,e,r)=>{var n=r(135),o=r(5710),a=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(o(t),e)}},4654:t=>{t.exports={}},8118:(t,e,r)=>{var n=r(1104);t.exports=n("document","documentElement")},9138:(t,e,r)=>{var n=r(8246),o=r(3059),a=r(6);t.exports=!n&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1364:(t,e,r)=>{var n=r(135),o=r(3059),a=r(9187),i=Object,u=n("".split);t.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?u(t,""):i(t)}:i},1340:(t,e,r)=>{var n=r(3994),o=r(7595),a=r(6827);t.exports=function(t,e,r){var i,u;return a&&n(i=e.constructor)&&i!==r&&o(u=i.prototype)&&u!==r.prototype&&a(t,u),t}},8586:(t,e,r)=>{var n=r(135),o=r(3994),a=r(1508),i=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(t){return i(t)}),t.exports=a.inspectSource},695:(t,e,r)=>{var n=r(7595),o=r(6706);t.exports=function(t,e){n(e)&&"cause"in e&&o(t,"cause",e.cause)}},4133:(t,e,r)=>{var n,o,a,i=r(192),u=r(2436),c=r(7595),s=r(6706),l=r(8675),f=r(1508),p=r(1351),h=r(4654),d="Object already initialized",v=u.TypeError,y=u.WeakMap;if(i||f.state){var g=f.state||(f.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,n=function(t,e){if(g.has(t))throw new v(d);return e.facade=t,g.set(t,e),e},o=function(t){return g.get(t)||{}},a=function(t){return g.has(t)}}else{var m=p("state");h[m]=!0,n=function(t,e){if(l(t,m))throw new v(d);return e.facade=t,s(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},a=function(t){return l(t,m)}}t.exports={set:n,get:o,has:a,enforce:function(t){return a(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return r}}}},589:(t,e,r)=>{var n=r(6493),o=r(9928),a=n("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[a]===t)}},9354:(t,e,r)=>{var n=r(9187);t.exports=Array.isArray||function(t){return"Array"===n(t)}},3994:t=>{var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},442:(t,e,r)=>{var n=r(3059),o=r(3994),a=/#|\.prototype\./,i=function(t,e){var r=c[u(t)];return r===l||r!==s&&(o(e)?n(e):!!e)},u=i.normalize=function(t){return String(t).replace(a,".").toLowerCase()},c=i.data={},s=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},8385:t=>{t.exports=function(t){return null==t}},7595:(t,e,r)=>{var n=r(3994);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},848:(t,e,r)=>{var n=r(7595);t.exports=function(t){return n(t)||null===t}},7517:t=>{t.exports=!1},1933:(t,e,r)=>{var n=r(1104),o=r(3994),a=r(7346),i=r(6270),u=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&a(e.prototype,u(t))}},6143:(t,e,r)=>{var n=r(2567),o=r(2818),a=r(1190),i=r(7535),u=r(589),c=r(4578),s=r(7346),l=r(2005),f=r(5463),p=r(6765),h=TypeError,d=function(t,e){this.stopped=t,this.result=e},v=d.prototype;t.exports=function(t,e,r){var y,g,m,A,E,T,b,x=r&&r.that,O=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),I=!(!r||!r.INTERRUPTED),w=n(e,x),_=function(t){return y&&p(y,"normal"),new d(!0,t)},M=function(t){return O?(a(t),I?w(t[0],t[1],_):w(t[0],t[1])):I?w(t,_):w(t)};if(C)y=t.iterator;else if(S)y=t;else{if(!(g=f(t)))throw new h(i(t)+" is not iterable");if(u(g)){for(m=0,A=c(t);A>m;m++)if((E=M(t[m]))&&s(v,E))return E;return new d(!1)}y=l(t,g)}for(T=C?t.next:y.next;!(b=o(T,y)).done;){try{E=M(b.value)}catch(t){p(y,"throw",t)}if("object"==typeof E&&E&&s(v,E))return E}return new d(!1)}},3112:(t,e,r)=>{var n=r(6765);t.exports=function(t,e,r){for(var o=t.length-1;o>=0;o--)if(void 0!==t[o])try{r=n(t[o].iterator,e,r)}catch(t){e="throw",r=t}if("throw"===e)throw r;return r}},6765:(t,e,r)=>{var n=r(2818),o=r(1190),a=r(4364);t.exports=function(t,e,r){var i,u;o(t);try{if(!(i=a(t,"return"))){if("throw"===e)throw r;return r}i=n(i,t)}catch(t){u=!0,i=t}if("throw"===e)throw r;if(u)throw i;return o(i),r}},910:(t,e,r)=>{var n=r(3458).IteratorPrototype,o=r(1702),a=r(1111),i=r(494),u=r(9928),c=function(){return this};t.exports=function(t,e,r,s){var l=e+" Iterator";return t.prototype=o(n,{next:a(+!s,r)}),i(t,l,!1,!0),u[l]=c,t}},7216:(t,e,r)=>{var n=r(2818),o=r(1702),a=r(6706),i=r(3674),u=r(6493),c=r(4133),s=r(4364),l=r(3458).IteratorPrototype,f=r(9683),p=r(6765),h=r(3112),d=u("toStringTag"),v="IteratorHelper",y="WrapForValidIterator",g="normal",m="throw",A=c.set,E=function(t){var e=c.getterFor(t?y:v);return i(o(l),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return f(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:f(n,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),o=r.iterator;if(r.done=!0,t){var a=s(o,"return");return a?n(a,o):f(void 0,!0)}if(r.inner)try{p(r.inner.iterator,g)}catch(t){return p(o,m,t)}if(r.openIters)try{h(r.openIters,g)}catch(t){return p(o,m,t)}return o&&p(o,g),f(void 0,!0)}})},T=E(!0),b=E(!1);a(b,d,"Iterator Helper"),t.exports=function(t,e,r){var n=function(n,o){o?(o.iterator=n.iterator,o.next=n.next):o=n,o.type=e?y:v,o.returnHandlerResult=!!r,o.nextHandler=t,o.counter=0,o.done=!1,A(this,o)};return n.prototype=e?T:b,n}},9886:(t,e,r)=>{var n=r(3717),o=r(2818),a=r(7517),i=r(9273),u=r(3994),c=r(910),s=r(4552),l=r(6827),f=r(494),p=r(6706),h=r(55),d=r(6493),v=r(9928),y=r(3458),g=i.PROPER,m=i.CONFIGURABLE,A=y.IteratorPrototype,E=y.BUGGY_SAFARI_ITERATORS,T=d("iterator"),b="keys",x="values",O="entries",C=function(){return this};t.exports=function(t,e,r,i,d,y,S){c(r,e,i);var I,w,_,M=function(t){if(t===d&&P)return P;if(!E&&t&&t in D)return D[t];switch(t){case b:case x:case O:return function(){return new r(this,t)}}return function(){return new r(this)}},L=e+" Iterator",R=!1,D=t.prototype,N=D[T]||D["@@iterator"]||d&&D[d],P=!E&&N||M(d),U="Array"===e&&D.entries||N;if(U&&(I=s(U.call(new t)))!==Object.prototype&&I.next&&(a||s(I)===A||(l?l(I,A):u(I[T])||h(I,T,C)),f(I,L,!0,!0),a&&(v[L]=C)),g&&d===x&&N&&N.name!==x&&(!a&&m?p(D,"name",x):(R=!0,P=function(){return o(N,this)})),d)if(w={values:M(x),keys:y?P:M(b),entries:M(O)},S)for(_ in w)(E||R||!(_ in D))&&h(D,_,w[_]);else n({target:e,proto:!0,forced:E||R},w);return a&&!S||D[T]===P||h(D,T,P,{name:d}),v[e]=P,w}},5353:t=>{t.exports=function(t,e){var r="function"==typeof Iterator&&Iterator.prototype[t];if(r)try{r.call({next:null},e).next()}catch(t){return!0}}},2759:(t,e,r)=>{var n=r(2436);t.exports=function(t,e){var r=n.Iterator,o=r&&r.prototype,a=o&&o[t],i=!1;if(a)try{a.call({next:function(){return{done:!0}},return:function(){i=!0}},-1)}catch(t){t instanceof e||(i=!1)}if(!i)return a}},3458:(t,e,r)=>{var n,o,a,i=r(3059),u=r(3994),c=r(7595),s=r(1702),l=r(4552),f=r(55),p=r(6493),h=r(7517),d=p("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(o=l(l(a)))!==Object.prototype&&(n=o):v=!0),!c(n)||i((function(){var t={};return n[d].call(t)!==t}))?n={}:h&&(n=s(n)),u(n[d])||f(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},9928:t=>{t.exports={}},4578:(t,e,r)=>{var n=r(3654);t.exports=function(t){return n(t.length)}},3217:(t,e,r)=>{var n=r(135),o=r(3059),a=r(3994),i=r(8675),u=r(8246),c=r(9273).CONFIGURABLE,s=r(8586),l=r(4133),f=l.enforce,p=l.get,h=String,d=Object.defineProperty,v=n("".slice),y=n("".replace),g=n([].join),m=u&&!o((function(){return 8!==d((function(){}),"length",{value:8}).length})),A=String(String).split("String"),E=t.exports=function(t,e,r){"Symbol("===v(h(e),0,7)&&(e="["+y(h(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!i(t,"name")||c&&t.name!==e)&&(u?d(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&i(r,"arity")&&t.length!==r.arity&&d(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?u&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=f(t);return i(n,"source")||(n.source=g(A,"string"==typeof e?e:"")),t};Function.prototype.toString=E((function(){return a(this)&&p(this).source||s(this)}),"toString")},7015:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},7601:(t,e,r)=>{var n=r(6318);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},1702:(t,e,r)=>{var n,o=r(1190),a=r(5451),i=r(7786),u=r(4654),c=r(8118),s=r(6),l=r(1351),f="prototype",p="script",h=l("IE_PROTO"),d=function(){},v=function(t){return"<"+p+">"+t+"</"+p+">"},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;g="undefined"!=typeof document?document.domain&&n?y(n):(e=s("iframe"),r="java"+p+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):y(n);for(var o=i.length;o--;)delete g[f][i[o]];return g()};u[h]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(d[f]=o(t),r=new d,d[f]=null,r[h]=t):r=g(),void 0===e?r:a.f(r,e)}},5451:(t,e,r)=>{var n=r(8246),o=r(6781),a=r(5266),i=r(1190),u=r(5495),c=r(364);e.f=n&&!o?Object.defineProperties:function(t,e){i(t);for(var r,n=u(e),o=c(e),s=o.length,l=0;s>l;)a.f(t,r=o[l++],n[r]);return t}},5266:(t,e,r)=>{var n=r(8246),o=r(9138),a=r(6781),i=r(1190),u=r(6030),c=TypeError,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",h="writable";e.f=n?a?function(t,e,r){if(i(t),e=u(e),i(r),"function"==typeof t&&"prototype"===e&&"value"in r&&h in r&&!r[h]){var n=l(t,e);n&&n[h]&&(t[e]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:f in r?r[f]:n[f],writable:!1})}return s(t,e,r)}:s:function(t,e,r){if(i(t),e=u(e),i(r),o)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},9515:(t,e,r)=>{var n=r(8246),o=r(2818),a=r(5114),i=r(1111),u=r(5495),c=r(6030),s=r(8675),l=r(9138),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=u(t),e=c(e),l)try{return f(t,e)}catch(t){}if(s(t,e))return i(!o(a.f,t,e),t[e])}},2311:(t,e,r)=>{var n=r(9848),o=r(7786).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},6230:(t,e)=>{e.f=Object.getOwnPropertySymbols},4552:(t,e,r)=>{var n=r(8675),o=r(3994),a=r(5710),i=r(1351),u=r(210),c=i("IE_PROTO"),s=Object,l=s.prototype;t.exports=u?s.getPrototypeOf:function(t){var e=a(t);if(n(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof s?l:null}},7346:(t,e,r)=>{var n=r(135);t.exports=n({}.isPrototypeOf)},9848:(t,e,r)=>{var n=r(135),o=r(8675),a=r(5495),i=r(403).indexOf,u=r(4654),c=n([].push);t.exports=function(t,e){var r,n=a(t),s=0,l=[];for(r in n)!o(u,r)&&o(n,r)&&c(l,r);for(;e.length>s;)o(n,r=e[s++])&&(~i(l,r)||c(l,r));return l}},364:(t,e,r)=>{var n=r(9848),o=r(7786);t.exports=Object.keys||function(t){return n(t,o)}},5114:(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},6827:(t,e,r)=>{var n=r(3928),o=r(7595),a=r(1421),i=r(8908);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return a(r),i(n),o(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},7400:(t,e,r)=>{var n=r(2818),o=r(3994),a=r(7595),i=TypeError;t.exports=function(t,e){var r,u;if("string"===e&&o(r=t.toString)&&!a(u=n(r,t)))return u;if(o(r=t.valueOf)&&!a(u=n(r,t)))return u;if("string"!==e&&o(r=t.toString)&&!a(u=n(r,t)))return u;throw new i("Can't convert object to primitive value")}},9920:(t,e,r)=>{var n=r(1104),o=r(135),a=r(2311),i=r(6230),u=r(1190),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(u(t)),r=i.f;return r?c(e,r(t)):e}},332:(t,e,r)=>{var n=r(5266).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},419:(t,e,r)=>{var n=r(2818),o=r(1190),a=r(3994),i=r(9187),u=r(1696),c=TypeError;t.exports=function(t,e){var r=t.exec;if(a(r)){var s=n(r,t,e);return null!==s&&o(s),s}if("RegExp"===i(t))return n(u,t,e);throw new c("RegExp#exec called on incompatible receiver")}},1696:(t,e,r)=>{var n,o,a=r(2818),i=r(135),u=r(6318),c=r(6846),s=r(2167),l=r(351),f=r(1702),p=r(4133).get,h=r(3141),d=r(1038),v=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,m=i("".charAt),A=i("".indexOf),E=i("".replace),T=i("".slice),b=(o=/b*/g,a(y,n=/a/,"a"),a(y,o,"a"),0!==n.lastIndex||0!==o.lastIndex),x=s.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(b||O||x||h||d)&&(g=function(t){var e,r,n,o,i,s,l,h=this,d=p(h),C=u(t),S=d.raw;if(S)return S.lastIndex=h.lastIndex,e=a(g,S,C),h.lastIndex=S.lastIndex,e;var I=d.groups,w=x&&h.sticky,_=a(c,h),M=h.source,L=0,R=C;if(w&&(_=E(_,"y",""),-1===A(_,"g")&&(_+="g"),R=T(C,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==m(C,h.lastIndex-1))&&(M="(?: "+M+")",R=" "+R,L++),r=new RegExp("^(?:"+M+")",_)),O&&(r=new RegExp("^"+M+"$(?!\\s)",_)),b&&(n=h.lastIndex),o=a(y,w?r:h,R),w?o?(o.input=T(o.input,L),o[0]=T(o[0],L),o.index=h.lastIndex,h.lastIndex+=o[0].length):h.lastIndex=0:b&&o&&(h.lastIndex=h.global?o.index+o[0].length:n),O&&o&&o.length>1&&a(v,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&I)for(o.groups=s=f(null),i=0;i<I.length;i++)s[(l=I[i])[0]]=o[l[1]];return o}),t.exports=g},3741:(t,e,r)=>{var n=r(2436),o=r(3059),a=n.RegExp,i=!o((function(){var t=!0;try{a(".","d")}catch(e){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",o=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var u in t&&(i.hasIndices="d"),i)o(u,i[u]);return Object.getOwnPropertyDescriptor(a.prototype,"flags").get.call(e)!==n||r!==n}));t.exports={correct:i}},6846:(t,e,r)=>{var n=r(1190);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},5482:(t,e,r)=>{var n=r(2818),o=r(8675),a=r(7346),i=r(3741),u=r(6846),c=RegExp.prototype;t.exports=i.correct?function(t){return t.flags}:function(t){return i.correct||!a(c,t)||o(t,"flags")?t.flags:n(u,t)}},2167:(t,e,r)=>{var n=r(3059),o=r(2436).RegExp,a=n((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),i=a||n((function(){return!o("a","y").sticky})),u=a||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:i,UNSUPPORTED_Y:a}},3141:(t,e,r)=>{var n=r(3059),o=r(2436).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},1038:(t,e,r)=>{var n=r(3059),o=r(2436).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1421:(t,e,r)=>{var n=r(8385),o=TypeError;t.exports=function(t){if(n(t))throw new o("Can't call method on "+t);return t}},494:(t,e,r)=>{var n=r(5266).f,o=r(8675),a=r(6493)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,a)&&n(t,a,{configurable:!0,value:e})}},1351:(t,e,r)=>{var n=r(351),o=r(2169),a=n("keys");t.exports=function(t){return a[t]||(a[t]=o(t))}},1508:(t,e,r)=>{var n=r(7517),o=r(2436),a=r(6319),i="__core-js_shared__",u=t.exports=o[i]||a(i,{});(u.versions||(u.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"})},351:(t,e,r)=>{var n=r(1508);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},3669:(t,e,r)=>{var n=r(135),o=r(8109),a=r(6318),i=r(1421),u=n("".charAt),c=n("".charCodeAt),s=n("".slice),l=function(t){return function(e,r){var n,l,f=a(i(e)),p=o(r),h=f.length;return p<0||p>=h?t?"":void 0:(n=c(f,p))<55296||n>56319||p+1===h||(l=c(f,p+1))<56320||l>57343?t?u(f,p):n:t?s(f,p,p+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},466:(t,e,r)=>{var n=r(7928),o=r(3059),a=r(2436).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4074:(t,e,r)=>{var n=r(8109),o=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):a(r,e)}},5495:(t,e,r)=>{var n=r(1364),o=r(1421);t.exports=function(t){return n(o(t))}},8109:(t,e,r)=>{var n=r(7015);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},3654:(t,e,r)=>{var n=r(8109),o=Math.min;t.exports=function(t){var e=n(t);return e>0?o(e,9007199254740991):0}},5710:(t,e,r)=>{var n=r(1421),o=Object;t.exports=function(t){return o(n(t))}},1460:(t,e,r)=>{var n=r(2818),o=r(7595),a=r(1933),i=r(4364),u=r(7400),c=r(6493),s=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,c=i(t,l);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!o(r)||a(r))return r;throw new s("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},6030:(t,e,r)=>{var n=r(1460),o=r(1933);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},4157:(t,e,r)=>{var n={};n[r(6493)("toStringTag")]="z",t.exports="[object z]"===String(n)},6318:(t,e,r)=>{var n=r(4494),o=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},7535:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},2169:(t,e,r)=>{var n=r(135),o=0,a=Math.random(),i=n(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++o+a,36)}},6270:(t,e,r)=>{var n=r(466);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6781:(t,e,r)=>{var n=r(8246),o=r(3059);t.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},192:(t,e,r)=>{var n=r(2436),o=r(3994),a=n.WeakMap;t.exports=o(a)&&/native code/.test(String(a))},6493:(t,e,r)=>{var n=r(2436),o=r(351),a=r(8675),i=r(2169),u=r(466),c=r(6270),s=n.Symbol,l=o("wks"),f=c?s.for||s:s&&s.withoutSetter||i;t.exports=function(t){return a(l,t)||(l[t]=u&&a(s,t)?s[t]:f("Symbol."+t)),l[t]}},6106:(t,e,r)=>{var n=r(1104),o=r(8675),a=r(6706),i=r(7346),u=r(6827),c=r(8842),s=r(332),l=r(1340),f=r(7601),p=r(695),h=r(4837),d=r(8246),v=r(7517);t.exports=function(t,e,r,y){var g="stackTraceLimit",m=y?2:1,A=t.split("."),E=A[A.length-1],T=n.apply(null,A);if(T){var b=T.prototype;if(!v&&o(b,"cause")&&delete b.cause,!r)return T;var x=n("Error"),O=e((function(t,e){var r=f(y?e:t,void 0),n=y?new T(t):new T;return void 0!==r&&a(n,"message",r),h(n,O,n.stack,2),this&&i(b,this)&&l(n,this,O),arguments.length>m&&p(n,arguments[m]),n}));if(O.prototype=b,"Error"!==E?u?u(O,x):c(O,x,{name:!0}):d&&g in T&&(s(O,T,g),s(O,T,"prepareStackTrace")),c(O,T),!v)try{b.name!==E&&a(b,"name",E),b.constructor=O}catch(t){}return O}}},9516:(t,e,r)=>{var n=r(3717),o=r(403).includes,a=r(3059),i=r(7702);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},3644:(t,e,r)=>{var n=r(5495),o=r(7702),a=r(9928),i=r(4133),u=r(5266).f,c=r(9886),s=r(9683),l=r(7517),f=r(8246),p="Array Iterator",h=i.set,d=i.getterFor(p);t.exports=c(Array,"Array",(function(t,e){h(this,{type:p,target:n(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(r,!1);case"values":return s(e[r],!1)}return s([r,e[r]],!1)}),"values");var v=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch(t){}},1334:(t,e,r)=>{var n=r(3717),o=r(5710),a=r(4578),i=r(1117),u=r(629);n({target:"Array",proto:!0,arity:1,forced:r(3059)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=o(this),r=a(e),n=arguments.length;u(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return i(e,r),r}})},7891:(t,e,r)=>{var n=r(3717),o=r(2507).left,a=r(7300),i=r(7928);n({target:"Array",proto:!0,forced:!r(1616)&&i>79&&i<83||!a("reduce")},{reduce:function(t){var e=arguments.length;return o(this,t,e,e>1?arguments[1]:void 0)}})},7856:(t,e,r)=>{var n=r(3717),o=r(2436),a=r(8986),i=r(6106),u="WebAssembly",c=o[u],s=7!==new Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=i(t,e,s),n({global:!0,constructor:!0,arity:1,forced:s},r)},f=function(t,e){if(c&&c[t]){var r={};r[t]=i(u+"."+t,e,s),n({target:u,stat:!0,constructor:!0,arity:1,forced:s},r)}};l("Error",(function(t){return function(e){return a(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return a(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return a(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return a(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return a(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return a(t,this,arguments)}})),l("URIError",(function(t){return function(e){return a(t,this,arguments)}})),f("CompileError",(function(t){return function(e){return a(t,this,arguments)}})),f("LinkError",(function(t){return function(e){return a(t,this,arguments)}})),f("RuntimeError",(function(t){return function(e){return a(t,this,arguments)}}))},5529:(t,e,r)=>{var n=r(3717),o=r(2436),a=r(983),i=r(1190),u=r(3994),c=r(4552),s=r(1118),l=r(618),f=r(3059),p=r(8675),h=r(6493),d=r(3458).IteratorPrototype,v=r(8246),y=r(7517),g="constructor",m="Iterator",A=h("toStringTag"),E=TypeError,T=o[m],b=y||!u(T)||T.prototype!==d||!f((function(){T({})})),x=function(){if(a(this,d),c(this)===d)throw new E("Abstract class Iterator not directly constructable")},O=function(t,e){v?s(d,t,{configurable:!0,get:function(){return e},set:function(e){if(i(this),this===d)throw new E("You can't redefine this property");p(this,t)?this[t]=e:l(this,t,e)}}):d[t]=e};p(d,A)||O(A,m),!b&&p(d,g)&&d[g]!==Object||O(g,x),x.prototype=d,n({global:!0,constructor:!0,forced:b},{Iterator:x})},8936:(t,e,r)=>{var n=r(3717),o=r(2818),a=r(4316),i=r(1190),u=r(2742),c=r(7216),s=r(9713),l=r(7517),f=r(6765),p=r(5353),h=r(2759),d=!l&&!p("filter",(function(){})),v=!l&&!d&&h("filter",TypeError),y=l||d||v,g=c((function(){for(var t,e,r=this.iterator,n=this.predicate,a=this.next;;){if(t=i(o(a,r)),this.done=!!t.done)return;if(e=t.value,s(r,n,[e,this.counter++],!0))return e}}));n({target:"Iterator",proto:!0,real:!0,forced:y},{filter:function(t){i(this);try{a(t)}catch(t){f(this,"throw",t)}return v?o(v,this,t):new g(u(this),{predicate:t})}})},8263:(t,e,r)=>{var n=r(3717),o=r(2818),a=r(4316),i=r(1190),u=r(2742),c=r(2668),s=r(7216),l=r(6765),f=r(7517),p=r(5353),h=r(2759),d=!f&&!p("flatMap",(function(){})),v=!f&&!d&&h("flatMap",TypeError),y=f||d||v,g=s((function(){for(var t,e,r=this.iterator,n=this.mapper;;){if(e=this.inner)try{if(!(t=i(o(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){l(r,"throw",t)}if(t=i(o(this.next,r)),this.done=!!t.done)return;try{this.inner=c(n(t.value,this.counter++),!1)}catch(t){l(r,"throw",t)}}}));n({target:"Iterator",proto:!0,real:!0,forced:y},{flatMap:function(t){i(this);try{a(t)}catch(t){l(this,"throw",t)}return v?o(v,this,t):new g(u(this),{mapper:t,inner:null})}})},7019:(t,e,r)=>{var n=r(3717),o=r(2818),a=r(6143),i=r(4316),u=r(1190),c=r(2742),s=r(6765),l=r(2759)("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:l},{forEach:function(t){u(this);try{i(t)}catch(t){s(this,"throw",t)}if(l)return o(l,this,t);var e=c(this),r=0;a(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},4927:(t,e,r)=>{var n=r(3717),o=r(2818),a=r(4316),i=r(1190),u=r(2742),c=r(7216),s=r(9713),l=r(6765),f=r(5353),p=r(2759),h=r(7517),d=!h&&!f("map",(function(){})),v=!h&&!d&&p("map",TypeError),y=h||d||v,g=c((function(){var t=this.iterator,e=i(o(this.next,t));if(!(this.done=!!e.done))return s(t,this.mapper,[e.value,this.counter++],!0)}));n({target:"Iterator",proto:!0,real:!0,forced:y},{map:function(t){i(this);try{a(t)}catch(t){l(this,"throw",t)}return v?o(v,this,t):new g(u(this),{mapper:t})}})},6427:(t,e,r)=>{var n=r(3717),o=r(6143),a=r(4316),i=r(1190),u=r(2742),c=r(6765),s=r(2759),l=r(8986),f=r(3059),p=TypeError,h=f((function(){[].keys().reduce((function(){}),void 0)})),d=!h&&s("reduce",p);n({target:"Iterator",proto:!0,real:!0,forced:h||d},{reduce:function(t){i(this);try{a(t)}catch(t){c(this,"throw",t)}var e=arguments.length<2,r=e?void 0:arguments[1];if(d)return l(d,this,e?[t]:[t,r]);var n=u(this),s=0;if(o(n,(function(n){e?(e=!1,r=n):r=t(r,n,s),s++}),{IS_RECORD:!0}),e)throw new p("Reduce of empty iterator with no initial value");return r}})},6980:(t,e,r)=>{var n=r(3717),o=r(2818),a=r(6143),i=r(4316),u=r(1190),c=r(2742),s=r(6765),l=r(2759)("some",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:l},{some:function(t){u(this);try{i(t)}catch(t){s(this,"throw",t)}if(l)return o(l,this,t);var e=c(this),r=0;return a(e,(function(e,n){if(t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},9152:(t,e,r)=>{var n=r(3717),o=r(1696);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},3767:(t,e,r)=>{var n=r(8986),o=r(2818),a=r(135),i=r(7497),u=r(3059),c=r(1190),s=r(3994),l=r(7595),f=r(8109),p=r(3654),h=r(6318),d=r(1421),v=r(9161),y=r(4364),g=r(6563),m=r(5482),A=r(419),E=r(6493)("replace"),T=Math.max,b=Math.min,x=a([].concat),O=a([].push),C=a("".indexOf),S=a("".slice),I="$0"==="a".replace(/./,"$0"),w=!!/./[E]&&""===/./[E]("a","$0");i("replace",(function(t,e,r){var a=w?"$":"$0";return[function(t,r){var n=d(this),a=l(t)?y(t,E):void 0;return a?o(a,t,n,r):o(e,h(n),t,r)},function(t,o){var i=c(this),u=h(t);if("string"==typeof o&&-1===C(o,a)&&-1===C(o,"$<")){var l=r(e,i,u,o);if(l.done)return l.value}var d=s(o);d||(o=h(o));var y,E=h(m(i)),I=-1!==C(E,"g");I&&(y=-1!==C(E,"u"),i.lastIndex=0);for(var w,_=[];null!==(w=A(i,u))&&(O(_,w),I);){""===h(w[0])&&(i.lastIndex=v(u,p(i.lastIndex),y))}for(var M,L="",R=0,D=0;D<_.length;D++){for(var N,P=h((w=_[D])[0]),U=T(b(f(w.index),u.length),0),B=[],j=1;j<w.length;j++)O(B,void 0===(M=w[j])?M:String(M));var F=w.groups;if(d){var k=x([P],B,U,u);void 0!==F&&O(k,F),N=h(n(o,void 0,k))}else N=g(P,u,U,B,F,o);U>=R&&(L+=S(u,R,U)+N,R=U+P.length)}return L+S(u,R)}]}),!!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!I||w)},2599:(t,e,r)=>{var n=r(2436),o=r(2767),a=r(5980),i=r(3644),u=r(6706),c=r(494),s=r(6493)("iterator"),l=i.values,f=function(t,e){if(t){if(t[s]!==l)try{u(t,s,l)}catch(e){t[s]=l}if(c(t,e,!0),o[e])for(var r in i)if(t[r]!==i[r])try{u(t,r,i[r])}catch(e){t[r]=i[r]}}};for(var p in o)f(n[p]&&n[p].prototype,p);f(a,"DOMTokenList")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{CHART_TYPE:()=>ft,FIELD_TYPE:()=>st,GDVizSDK:()=>Vt,META_TYPE:()=>ct,MPHColumnField:()=>pt,MPHZField:()=>lt,NumberFormatType:()=>at,OpenChartEvent:()=>e,VizRenderType:()=>a,VizSDKEvent:()=>t,VizTheme:()=>o,ZoneType:()=>ut});r(7856),r(9152),r(3767),r(2599);let t=function(t){return t.CHART_READY="gd-open-chart-ready",t.CHART_DATA="gd-open-chart-data",t.CHART_EVENT="gd-open-chart-event",t}({}),e=function(t){return t.Error="Error",t.TableHeightChange="TableHeightChange",t.TableHeaderSort="TableHeaderSort",t.ChangeTheme="ChangeTheme",t}({}),o=function(t){return t.LIGHT="LIGHT",t.DARK="DARK",t}({}),a=function(t){return t.CARD="card",t.LARGE_SCREEN_CARD="largeScreenCard",t}({});r(9516),r(1334),r(7891),r(5529),r(8936),r(8263),r(7019),r(4927),r(6427),r(6980);function i(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function u(t){return function e(r){return 0===arguments.length||i(r)?e:t.apply(this,arguments)}}function c(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return i(r)?e:u((function(e){return t(r,e)}));default:return i(r)&&i(n)?e:i(r)?u((function(e){return t(e,n)})):i(n)?u((function(e){return t(r,e)})):t(r,n)}}}const s=c((function(t,e){for(var r=e,n=0;n<t.length;){if(null==r)return;r=r[t[n]],n+=1}return r}));function l(t){return function e(r,n,o){switch(arguments.length){case 0:return e;case 1:return i(r)?e:c((function(e,n){return t(r,e,n)}));case 2:return i(r)&&i(n)?e:i(r)?c((function(e,r){return t(e,n,r)})):i(n)?c((function(e,n){return t(r,e,n)})):u((function(e){return t(r,n,e)}));default:return i(r)&&i(n)&&i(o)?e:i(r)&&i(n)?c((function(e,r){return t(e,r,o)})):i(r)&&i(o)?c((function(e,r){return t(e,n,r)})):i(n)&&i(o)?c((function(e,n){return t(r,e,n)})):i(r)?u((function(e){return t(e,n,o)})):i(n)?u((function(e){return t(r,e,o)})):i(o)?u((function(e){return t(r,n,e)})):t(r,n,o)}}}function f(t,e){return Object.prototype.hasOwnProperty.call(e,t)}const p=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},h=Number.isInteger||function(t){return t<<0===t};const d=l((function(t,e,r){var n={};for(var o in r)n[o]=r[o];return n[t]=e,n}));const v=u((function(t){return null==t}));var y=l((function t(e,r,n){if(0===e.length)return r;var o=e[0];if(e.length>1){var a=!v(n)&&f(o,n)?n[o]:h(e[1])?[]:{};r=t(Array.prototype.slice.call(e,1),r,a)}if(h(o)&&p(n)){var i=[].concat(n);return i[o]=r,i}return d(o,r,n)}));const g=y;function m(t){return"[object Object]"===Object.prototype.toString.call(t)}const A=l((function(t,e,r){var n,o={};for(n in e)f(n,e)&&(o[n]=f(n,r)?t(n,e[n],r[n]):e[n]);for(n in r)f(n,r)&&!f(n,o)&&(o[n]=r[n]);return o}));const E=l((function t(e,r,n){return A((function(r,n,o){return m(n)&&m(o)?t(e,n,o):e(r,n,o)}),r,n)}));const T=c((function(t,e){return E((function(t,e,r){return r}),t,e)}));const b=u((function(t){return!!p(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}));var x=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function O(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,r){return e.apply(this,arguments)};case 3:return function(t,r,n){return e.apply(this,arguments)};case 4:return function(t,r,n,o){return e.apply(this,arguments)};case 5:return function(t,r,n,o,a){return e.apply(this,arguments)};case 6:return function(t,r,n,o,a,i){return e.apply(this,arguments)};case 7:return function(t,r,n,o,a,i,u){return e.apply(this,arguments)};case 8:return function(t,r,n,o,a,i,u,c){return e.apply(this,arguments)};case 9:return function(t,r,n,o,a,i,u,c,s){return e.apply(this,arguments)};case 10:return function(t,r,n,o,a,i,u,c,s,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}const C=c((function(t,e){return O(t.length,(function(){return t.apply(e,arguments)}))}));function S(t,e,r){for(var n=r.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function I(t,e,r,n){return t["@@transducer/result"](r[n](C(t["@@transducer/step"],t),e))}var w="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function _(t,e,r){if("function"==typeof t&&(t=function(t){return new x(t)}(t)),b(r))return function(t,e,r){for(var n=0,o=r.length;n<o;){if((e=t["@@transducer/step"](e,r[n]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}(t,e,r);if("function"==typeof r["fantasy-land/reduce"])return I(t,e,r,"fantasy-land/reduce");if(null!=r[w])return S(t,e,r[w]());if("function"==typeof r.next)return S(t,e,r);if("function"==typeof r.reduce)return I(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var M=Object.prototype.toString;const L=function(){return"[object Arguments]"===M.call(arguments)?function(t){return"[object Arguments]"===M.call(t)}:function(t){return f("callee",t)}}();var R=!{toString:null}.propertyIsEnumerable("toString"),D=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=function(){return arguments.propertyIsEnumerable("length")}(),P=function(t,e){for(var r=0;r<t.length;){if(t[r]===e)return!0;r+=1}return!1};const U="function"!=typeof Object.keys||N?u((function(t){if(Object(t)!==t)return[];var e,r,n=[],o=N&&L(t);for(e in t)!f(e,t)||o&&"length"===e||(n[n.length]=e);if(R)for(r=D.length-1;r>=0;)f(e=D[r],t)&&!P(n,e)&&(n[n.length]=e),r-=1;return n})):u((function(t){return Object(t)!==t?[]:Object.keys(t)}));const B=c((function(t,e){return _((function(r,n){return r[n]=t(e[n],n,e),r}),{},U(e))}));function j(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function F(t,e,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),o=n.pop();if(!p(o)){for(var a=0;a<t.length;){if("function"==typeof o[t[a]])return o[t[a]].apply(o,n);a+=1}if(j(o)){var i=e.apply(null,n);return i(o)}}return r.apply(this,arguments)}}const k=function(){return this.xf["@@transducer/init"]()},H=function(t){return this.xf["@@transducer/result"](t)};var z=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=k,t.prototype["@@transducer/result"]=H,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}();const W=c((function(t,e){return new z(t,e)}));function G(t,e,r){return function(){for(var n=[],o=0,a=t,u=0;u<e.length||o<arguments.length;){var c;u<e.length&&(!i(e[u])||o>=arguments.length)?c=e[u]:(c=arguments[o],o+=1),n[u]=c,i(c)||(a-=1),u+=1}return a<=0?r.apply(this,n):O(a,G(t,n,r))}}const V=c((function(t,e){return 1===t?u(e):O(t,G(t,[],e))}));const K=c(F(["fantasy-land/map","map"],W,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return V(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return _((function(r,n){return r[n]=t(e[n]),r}),{},U(e));default:return function(t,e){for(var r=0,n=e.length,o=Array(n);r<n;)o[r]=t(e[r]),r+=1;return o}(t,e)}})));function q(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}function Y(t,e,r){for(var n=0,o=r.length;n<o;){if(t(e,r[n]))return!0;n+=1}return!1}const $="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};const Q=u((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function Z(t,e,r,n){var o=q(t);function a(t,e){return J(t,e,r.slice(),n.slice())}return!Y((function(t,e){return!Y(a,e,t)}),q(e),o)}function J(t,e,r,n){if($(t,e))return!0;var o,a,i=Q(t);if(i!==Q(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(o=t.constructor,null==(a=String(o).match(/^function (\w*)/))?"":a[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!$(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!$(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var u=r.length-1;u>=0;){if(r[u]===t)return n[u]===e;u-=1}switch(i){case"Map":return t.size===e.size&&Z(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size===e.size&&Z(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=U(t);if(c.length!==U(e).length)return!1;var s=r.concat([t]),l=n.concat([e]);for(u=c.length-1;u>=0;){var p=c[u];if(!f(p,e)||!J(e[p],t[p],s,l))return!1;u-=1}return!0}const X=c((function(t,e){return J(t,e,[],[])}));function tt(t,e){return function(t,e,r){var n,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(n=1/e;r<t.length;){if(0===(o=t[r])&&1/o===n)return r;r+=1}return-1}if(e!=e){for(;r<t.length;){if("number"==typeof(o=t[r])&&o!=o)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(null===e)return t.indexOf(e,r)}for(;r<t.length;){if(X(t[r],e))return r;r+=1}return-1}(e,t,0)>=0}function et(t,e,r){var n,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!r._items["-0"]||(e&&(r._items["-0"]=!0),!1):null!==r._nativeSet?e?(n=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===n):r._nativeSet.has(t):o in r._items?t in r._items[o]||(e&&(r._items[o][t]=!0),!1):(e&&(r._items[o]={},r._items[o][t]=!0),!1);case"boolean":if(o in r._items){var a=t?1:0;return!!r._items[o][a]||(e&&(r._items[o][a]=!0),!1)}return e&&(r._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?e?(n=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===n):r._nativeSet.has(t):o in r._items?!!tt(t,r._items[o])||(e&&r._items[o].push(t),!1):(e&&(r._items[o]=[t]),!1);case"undefined":return!!r._items[o]||(e&&(r._items[o]=!0),!1);case"object":if(null===t)return!!r._items.null||(e&&(r._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in r._items?!!tt(t,r._items[o])||(e&&r._items[o].push(t),!1):(e&&(r._items[o]=[t]),!1)}}const rt=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!et(t,!0,this)},t.prototype.has=function(t){return et(t,!1,this)},t}();const nt=c((function(t,e){for(var r,n,o=new rt,a=[],i=0;i<e.length;)r=t(n=e[i]),o.add(r)&&a.push(n),i+=1;return a}));const ot=c((function(t,e){if(0===t.length)return!1;for(var r=e,n=0;n<t.length;){if(!f(t[n],r))return!1;r=r[t[n]],n+=1}return!0}));let at=function(t){return t.NUMBER="NUMBER",t.PERCENTAGE="PERCENTAGE",t.CURRENCY="CURRENCY",t.ADVANCED="ADVANCED",t}({});class it{static getAutoPrefixUnitAndValue(t,e,r,n){void 0===n&&(n="zh-CN");const o="string"==typeof t?parseFloat(t):t,a=Math.abs(o);let i,u;const c=void 0!==e&&""!==e,s=!0===r,l="auto"===e;if(c&&s&&l){const t="zh-CN"===n?{bases:[1e12,1e8,1e4],units:["兆","亿","万"]}:{bases:[1e6,1e3],units:["M","K"]},e=t.bases.findIndex((t=>a>t));if(-1!==e){const r=t.bases[e];i=a/r,u=t.units[e]}else i=a,u=""}else c&&s&&!l?(i=this.calculateValueByPrefixUnit(a,e),u=e):(i=a,u="");return[i,u]}static calculateValueByPrefixUnit(t,e){switch(e){case"兆":return t/1e12;case"亿":return t/1e8;case"万":return t/1e4;case"M":return t/1e6;case"K":case"k":return t/1e3;default:return t}}static convertExcelFormat(t){const e=t.formatType||at.NUMBER,r=0===t.decimalPlaces?"0":`0.${"0".repeat(t.decimalPlaces||0)}`,n=t.useThousandsSeparator?"#,###":"";let o;switch(t.prefixUnit){case"万":o='0"."0,';break;case"亿":o='0"."00,,';break;case"k":case"K":o=`${n}${r},`;break;case"M":o=`${n}${r},,`;break;default:o=`${n}${r}`}const a=!1!==t.showPrefixUnit&&t.prefixUnit&&this.supportedPrefixUnits.has(t.prefixUnit)?`${o}"${t.prefixUnit}"`:o;let i;switch(e){case at.NUMBER:i=a;break;case at.PERCENTAGE:i=`${n}${r}%`;break;case at.CURRENCY:i=`${t.currencySymbol||"$"}${a}`;break;case at.ADVANCED:i="#,###0.00";break;default:i=a}return`${i}${t.suffix||""}`}static convertNumberFormat(t){if(!t.suffix&&!t.formatType)return;const e=`${t.useThousandsSeparator?",":""}.${t.decimalPlaces||0}`,r=t.prefixUnit||"",n=this.supportedPrefixUnits.has(r)&&!1!==t.showPrefixUnit?r:void 0,o=this.supportedPrefixUnits.get(r)||t.divideDataBy;let a;if(t.formatType)switch(t.formatType){case at.NUMBER:a=`${e}f`;break;case at.PERCENTAGE:a=`${e}%`;break;case at.CURRENCY:a=`$${e}f`;break;case at.ADVANCED:a=t.customFormat||",.2f"}return{specifier:a,locale:t.formatType===at.CURRENCY&&t.currencySymbol?{currency:[t.currencySymbol,""]}:void 0,prefixUnit:n,suffix:t.suffix,divideDataBy:o,isAutoPrefixUnit:"auto"===t.prefixUnit,decimalPlaces:t.decimalPlaces,excelFormat:this.convertExcelFormat(t),suffixSizePercent:t.suffixSizePercent}}static convertExcelNumberFormat(t,e,r){if(void 0===r&&(r="zh-CN"),!e||!t.suffix&&!t.formatType)return;const[,n]=this.isNumeric(String(e))?this.getAutoPrefixUnitAndValue(e,t.prefixUnit,!0,r):[e,t.prefixUnit||""];return{divideDataBy:this.supportedPrefixUnits.get(n)||t.divideDataBy,excelFormat:this.convertExcelFormat({...t,prefixUnit:n})}}static isNumeric(t){if(!t)return!1;return/^-?\d+(\.\d+)?$/.test(t)}static format(t){return parseFloat(t.toFixed(11)).toString()}static formatNoTrunc(t){return parseFloat(t.toFixed(15)).toString()}}it.supportedPrefixUnits=new Map([["k",1e3],["K",1e3],["M",1e6],["万",1e4],["亿",1e8]]);let ut=function(t){return t.ROW="row",t.COLUMN="column",t.METRIC="metric",t.METRIC_ADDITIONAL="metric_additional",t.FILTER="filters",t.SORT="sorting",t.COLOR_BY="colorBy",t.SIZE_BY="sizeBy",t.TOOLTIP="tooltip",t.SPLIT="split",t}({}),ct=function(t){return t.DIM="DIM",t.METRIC="METRIC",t.METRICS_PLACEHOLDER="MPH",t}({}),st=function(t){return t.INT="INT",t.DOUBLE="DOUBLE",t.STRING="STRING",t.TIMESTAMP="TIMESTAMP",t.LONG="LONG",t.SHORT="SHORT",t.FLOAT="FLOAT",t.DATE="DATE",t.SUB_DATE="SUB_DATE",t.BOOL="BOOL",t.DECIMAL="DECIMAL",t}({});const lt={key:"key_of_MPH",metaType:ct.METRICS_PLACEHOLDER};let ft=function(t){return t.BASIC_COLUMN="BASIC_COLUMN",t.GROUPED_COLUMN="GROUPED_COLUMN",t.STACKED_COLUMN="STACKED_COLUMN",t.STACKED_SPLIT_COLUMN="STACKED_SPLIT_COLUMN",t.PERCENT_STACKED_COLUMN="PERCENT_STACKED_COLUMN",t.GROUPED_COLUMN_WITH_LINE="GROUPED_COLUMN_WITH_LINE",t.STACKED_COLUMN_WITH_LINE="STACKED_COLUMN_WITH_LINE",t.GROUPED_COLUMN_WITH_SYMBOL="GROUPED_COLUMN_WITH_SYMBOL",t.STACKED_COLUMN_WITH_SYMBOL="STACKED_COLUMN_WITH_SYMBOL",t.BASIC_BAR="BASIC_BAR",t.BASIC_LINE="BASIC_LINE",t.MULTI_LINE="MULTI_LINE",t.PIE="PIE",t.BASIC_BUBBLE="BASIC_BUBBLE",t.PROGRESS_BAR="PROGRESS_BAR",t.KPI_CARD="KPI_CARD",t.SINGLE_VALUE="SINGLE_VALUE",t.PIVOT_TABLE="PIVOT_TABLE",t.DETAIL_TABLE="DETAIL_TABLE",t}({});const pt={title:"度量",isMPH:!0,metaType:ct.METRIC};let ht=null;const dt=t=>(null==t?void 0:t.viz_config)&&(null==t?void 0:t.data_info),vt={gapBetweenGroup:30,gapInGroup:30},yt={pointSize:6,showPoint:!0,pointShape:"dot",showAsSpline:!0,skipNulls:!1,opacity:80,showArea:!1},gt={[ft.PIE]:{themeColor:{theme:"LAKESIDE_MOUNTAIN"},chartLegend:{showLegend:!1,legendPosition:"right",customLegend:{showNumber:!0}},dataLabels:{metric:{precision:"0",showCategory:!0,showConnector:!0,showNumber:!1,showPercentage:!0,showSeries:!1,textOutline:!1}},pieSetting:{innerSize:50,showAsRing:!0,centerDisplay:!0,mergeOther:!0,mergeSize:10},centerTextSetting:{showCenterText:!0,valueType:"number"}},[ft.BASIC_BUBBLE]:{bubbleSetting:{minScale:1,maxScale:1.5}},[ft.SINGLE_VALUE]:{singleValueSetting:{fontStyle:{bold:!0,size:28},labelStyle:{show:!0,size:16},labelPosition:"mt",kpiAlignment:"left",icon:{iconId:null,groupId:"custom_url",size:32,position:"left",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAALAAAAAD8buejAAAGQElEQVRYCe1XXWwUVRQ+d/av29IWWlotDekW0qLWCAZKMEIiPpgYMUBQoomGoJgQ40+MPOiDUDFEHgw8GIIxghoSFU2a1AciPpBojFH5KVQEBEorP0Wk9H9nd2dn5vjd3d7ZnW5/phQID3uT2XvPueee+813zzlzlyjf8gzkGcgzcNcywM1flnPL3v3c1KR5BenZ0KtDr3bc8tlTpFkniWktPVBR6HWd36vhrbLjlj3FxGIHgG5wfIaCRRgPOfI4gzsKmJv3LAXYfcATcWES5JnhOxsSAX8HCTrtApsSAncHYGYWvH/3cWvfzq0Sl3h63RWEQjwXMHsGfHtDouXztRQKzdfw8He73yTT3gGwK7MAD2Csk+kd8G0LieFStcUBFwiVsGVuhpzZk2kXCa4nn3XGsZtgICaY9zwdTfAqGK/HkTcyUUWg65webPulJNuBdaWTfdURtWechBURK1+5lm0z0XjKIaEn+VHSox9qZ1uXGTUPEvsDRMwUbm9zgeWhAWLTVGCBS3wxWbDyZW4acDzOdbagbaZJq0IdpwLBzpMU7PiTkqWVZFXVkhaV4Zlpdm83CeHgtVDePsrMeh9l4snjGmR+Wczg3UlBR5MWPUuJWCB4KV2phG1RsPcqhVoPubzxUD+xkQCpacD2zOobiRXr5riMPAqeAQOoP5bkrXqCThkmbQS2YrlH6EIbkWVlbYcIHuzLkons3htpWUtvF6tbWJk06QfE/YFkkh9xGU8geAIcjfOrukFnjCS9Z9p0j/IpEjoFL/+txFTP0SHirBewhS/NbmpWkFk+i6zicrKZNNOiJ2Mm/awnuNkweIHL0RjCuIBl5gPsEcumXXA+d6SP0IUToC+bXYg9152jlyEQnb+U7LqHoMNWmiAjgnFWQ376EVqrExb9BuBfITfqs6ZzhqMC1g1eAqAHAbQZjC7EIec0LR6l4JWzLj0PohIgVoUEh2bMBJulZaQvW0Gx1RvIqm0Aw1WuNUoA4yEAf95kakWO7NV1nq3msnsX4FiMa4cS/DVO9CcAfQJv76R19iI5DqbYtTNqvJXdB3Zlk8mFJxG5Py3j1y6vptiyNY481sBiKkSOrLc0OhlFcg8wz8y2dQAjobagSp4A2OfwtsFso5FjLTZEwa5zLrWNRGPDSOvk0VdUk1WIvATbIjCNhD+Mdxjz/V2+pGDbVIKSuVFD7oDxl5WBAxgx+i6MUpmvJsfqQxeOpzw68wCiwKV0AJmouY+ELwSwxcB80+VeFqByZMkLai/HU79OPcUFNHqAKWv0mj5Iga72LA1RoipCsboFJGJRKjhyiBgA7dKqKQFVG+C0qbufTCU7gK/208WeKFVVgOMiBMRoiSYXpdjlTOzyMJtyjsNFFH/sGSJfwaSOX64d2ZA/1Bcjuj6YmhlODvenuSeB97jcSxQG4Ipp6V4uVE1+bgNX3ewa1XPIDhakY9VfOHVWEeaDAHoNQBGiqh1WAyeGcel7Dcof5UQMuXOxh6gLHywDAZTJFZvMskzUsOaj+Oz6VKxqU4xVuW8U+3aAS5x2Gqyg88C/urFW7JTzsuWk7ZFOXg5Wt2NuccoCP9PDRGVFOA5fWqP1/ksF54+RWTydEvWLp8SqJEMSdB1/QWU/3Pqh/yAcpY8bGkRGi8kcwGrF4U5eg0DeBnme0pUD9Aw8qFrpJuMlQ78y89RLF/hQpIAOZv40oQzTpyhlmxfNE92jOVJbjzZH3zL7Ih30EgBugaNqZVSJm26pDNtxVyvr3F5mfo+OJ+uPPVQHEZZvL64Rf+WuyGg8bfnrJQ4HTHody97BM0MulxevSlSUEgD33ICqD2z+574qn8Y5b2qMiANe/HgCrBy1dvB0FBIJ+g08iGxUMMT1vWBclsKxmjyJgdzMv4GQaxr6hz5Zvlw4dXYsH0o/KcBq0bGLPAslpwmEyf9wqVoewm85SmEhgPuHa08SBjoY7cbRy3gdbkn0u2D+/sO1wn1xVhbj9DcFWPn7vZ3rUdm2ATS+Fpkm8WZKaEaP0fe4AW5aMle4LyIuk/GFKQFWrv9o50YkzHY4e1zpRvRtSNy3FkbEoRH6SYu3BLDa9WgHL0Gle5EFNSAaQohdyeQ3i2roB9zUxiBdrc73eQbyDOQZuBUM/A8dGFrWOE+nCwAAAABJRU5ErkJggg==",sourceType:2,renderType:3,show:!0}}},[ft.KPI_CARD]:{mainKpiSetting:{labelPosition:"ml",alignment:"left",value:{size:28,bold:!0},label:{size:18}},secondKpiSetting:{inBottomStyle:"follow_main",alignment:"center",showDividingLine:!0,position:"mb",layout:"classic",maxPerLine:1,value:{size:18,color:"#8c8c8c",bold:!0},label:{size:16,color:"#8c8c8c"},gap:20,labelPosition:"cl",kpiAlignment:"left"}},[ft.PIVOT_TABLE]:{cellMerge:{noMergeColumn:!0,noMergeRow:!0},miscPivotTableSetting:{fixedHeaderInfo:{X:!0},skipTotalRow:!1},pivot_appearance:{theme:"compact",colorType:"grey",banding:{enabled:!1},border:{enabled:!1},fontSize:13,fontFamily:"Helvetica, sans-serif",divider:{colors:["var(--color-palette-neutral-grey-2)"]}},pivot_headers:{columnStyle:{fillColor:"var(--color-palette-neutral-grey-2)",color:"var(--color-text-em)"},rowStyle:{fillColor:"var(--color-background-alt)",color:"var(--color-text-body-default)"}},pivot_data:{rowHeight:40}},[ft.BASIC_COLUMN]:{miscBarSetting:vt,chartLegend:{showLegend:!1}},[ft.GROUPED_COLUMN]:{miscBarSetting:vt},[ft.GROUPED_COLUMN_WITH_LINE]:{miscBarSetting:{...yt,...vt}},[ft.GROUPED_COLUMN_WITH_SYMBOL]:{miscBarSetting:vt},[ft.STACKED_COLUMN]:{miscBarSetting:vt},[ft.PERCENT_STACKED_COLUMN]:{miscBarSetting:vt},[ft.STACKED_SPLIT_COLUMN]:{miscBarSetting:vt},[ft.STACKED_COLUMN_WITH_LINE]:{miscBarSetting:{...yt,...vt}},[ft.STACKED_COLUMN_WITH_SYMBOL]:{miscBarSetting:vt},[ft.BASIC_LINE]:{miscLineSetting:yt,chartLegend:{showLegend:!1}},[ft.MULTI_LINE]:{miscLineSetting:{...yt,secondSetting:yt}},[ft.BASIC_BAR]:{miscBarSetting:vt,chartLegend:{showLegend:!1},axes:{mainAxis:{showGridLine:!0}}}},mt={themeColor:{colors:["#3472ea","#f5a522","#1cc5b7","#9e69e2","#cdbeff","#6a84b7","#7464d3","#e3e3e3","#ffd988","#f7ac60","#89aed5","#2bcdbf"],theme:"FUTURE_BLUE"},chartLegend:{showLegend:!0,legendPosition:"top",customLegend:{pagination:!0}},axes:{baseAxis:{showTitle:!1,labelFontSize:13},categoryAxis:{showTitle:!1,labelFontSize:13},mainAxis:{showTitle:!1,showGridLine:!1,labelColor:"rgba(140, 140, 140, 1)",labelFontSize:13},secondaryAxis:{showTitle:!1,showGridLine:!1,labelColor:"rgba(140, 140, 140, 1)",labelFontSize:13}},dataLabels:{metric:{showNumber:!0,textOutline:!0},metricAdditional:{showNumber:!0,textOutline:!0}}},At=function(t){return void 0===t&&(t=[]),t.filter((t=>!(t.metaType===ct.METRICS_PLACEHOLDER)))},Et=t=>[st.INT,st.LONG,st.SHORT,st.DOUBLE,st.FLOAT,st.DECIMAL].includes(t),Tt={oneMetricOnly:[ft.SINGLE_VALUE,ft.KPI_CARD,ft.PIVOT_TABLE],twoMetricsOnly:[ft.KPI_CARD,ft.PROGRESS_BAR,ft.PIVOT_TABLE],moreMetricsOnly:[ft.KPI_CARD,ft.PIVOT_TABLE],noColumnAndOneMetric:[ft.BASIC_COLUMN,ft.BASIC_BAR,ft.BASIC_LINE,ft.PIE,ft.PIVOT_TABLE],hasColumnOrMultiMetric:[ft.MULTI_LINE,ft.GROUPED_COLUMN,ft.STACKED_COLUMN,ft.STACKED_SPLIT_COLUMN,ft.PERCENT_STACKED_COLUMN,ft.PIVOT_TABLE],hasDualAxis:[ft.MULTI_LINE,ft.GROUPED_COLUMN_WITH_LINE,ft.STACKED_COLUMN_WITH_LINE,ft.GROUPED_COLUMN_WITH_SYMBOL,ft.STACKED_COLUMN_WITH_SYMBOL,ft.PIVOT_TABLE]},bt=[ft.BASIC_BUBBLE],xt=(t,e)=>{var r,n,o,a,i,u;if(!ft[e])return[];const c=null==t||null==(r=t.chartMain)?void 0:r.zoneData;if(!c)return[];const s=null!=(n=c[ut.METRIC])?n:[],l=s.length;if(!l)return[];if(bt.includes(e))return[e,ft.PIVOT_TABLE];const f=(null==(o=c[ut.ROW])?void 0:o.length)>0,p=At(c[ut.COLUMN]).length>0,h=(null==(a=c[ut.METRIC])?void 0:a.length)>1;return(null==(i=c[ut.METRIC_ADDITIONAL])?void 0:i.length)>0?Tt.hasDualAxis:f||p?p||h?Tt.hasColumnOrMultiMetric:(null==(u=c[ut.ROW])?void 0:u.length)>1?Tt.noColumnAndOneMetric.filter((t=>t!==ft.PIE)):Tt.noColumnAndOneMetric:1===l?Tt.oneMetricOnly:2===l?s.some((t=>!Et(t.fdType)))?Tt.twoMetricsOnly.filter((t=>t!==ft.PROGRESS_BAR)):Tt.twoMetricsOnly:Tt.moreMetricsOnly},Ot=function(t,e){void 0===e&&(e=.1);const r=t.filter((t=>"number"==typeof t&&!isNaN(t)&&isFinite(t)));if(0===r.length)return;const n=Math.min(...r),o=Math.max(...r);if(n===o)return;if(n<=0)return;const a=o-n;if(a/Math.abs(o)<e){let t=n-.1*a;return n>=0&&t<0&&(t=Math.max(0,n-.05*a)),(t=>{if(0===t||!isFinite(t)||t<0)return t;const e=Math.floor(Math.log10(t)),r=10**(e-1);let n=Math.floor(t/r)*r;if(1==Math.floor(t/r)%10){const r=10**e;n=Math.floor(t/r)*r}return n})(t)}},Ct=t=>{let{chartMeta:e,queryColumns:r,queryData:n}=t;const{chartMain:o}=e,{zoneData:a,props:i}=o;let u={};const c={[ut.METRIC]:["axes","mainAxis","min"],[ut.METRIC_ADDITIONAL]:["axes","secondaryAxis","min"]};return Object.entries(c).forEach((t=>{let[e,o]=t;if(a[e].length&&(""===(c=s(o,i))||null==c)){const t=((t,e,r)=>{const n=t.map((t=>e.findIndex((e=>e.name===t)))),o=r.flatMap((t=>n.map((e=>+t[e]))));return Ot(o)})(a[e].map((t=>t.name)),r,n);t&&(u=g(o,t,u))}var c})),T(e,{chartMain:{props:u}})},St=t=>{let{chartMeta:e,rowsCount:r}=t;const{chartMain:n}=e,{props:o}=n;if(o.navigator)return e;if(r<=10)return e;return T(e,{chartMain:{props:{axes:{navigator:{fixedValueAxis:!1,showNavigator:!0}},chartState:{min:0,max:9}}}})},It=t=>{var e,r,n,o,a;let{chartMeta:i,size:u,row:c}=t;const{chartMain:s}=i,{props:l,zoneData:f}=s;if(null!=(null==l||null==(e=l.axes)||null==(e=e.categoryAxis)?void 0:e.autoRotate))return i;const{width:p}=u,h=()=>T(i,{chartMain:{props:{axes:{categoryAxis:{autoRotate:-60}}}}}),d=null!=(r=f[ut.ROW])?r:[],v=(null==(n=f[ut.METRIC_ADDITIONAL])?void 0:n.length)>0;if(1!==d.length)return i;if((null==(o=c.data)?void 0:o.length)<=1)return i;if((null==(a=c.data)?void 0:a.length)>=20)return h();const y=Math.floor((p-80-(v?60:0))/c.data.length)-1;return c.data.some((t=>{var e,r;return function(t,e){ht||(ht=document.createElement("canvas"));const r=ht.getContext("2d");return r.font=e,r.measureText(t).width}(null!=(e=null==t||null==(r=t[0])?void 0:r.title)?e:"","12px sans-serif")>=y}))?h():i},wt={[ft.BASIC_COLUMN]:[Ct,St,It],[ft.GROUPED_COLUMN]:[Ct,St,It],[ft.GROUPED_COLUMN_WITH_LINE]:[Ct,St,It],[ft.GROUPED_COLUMN_WITH_SYMBOL]:[Ct,St,It],[ft.STACKED_COLUMN]:[St,It],[ft.STACKED_COLUMN_WITH_LINE]:[St,It],[ft.STACKED_COLUMN_WITH_SYMBOL]:[St,It],[ft.STACKED_SPLIT_COLUMN]:[St,It],[ft.PERCENT_STACKED_COLUMN]:[St,It],[ft.BASIC_BAR]:[Ct,St],[ft.BASIC_LINE]:[Ct,St,It],[ft.MULTI_LINE]:[Ct,St,It]},_t=(t,e)=>{const{row:r,data:n}=t,o=r.fields;if(!e||0===e.length)return t;const a=Array.from({length:r.data.length},((t,e)=>e)),i=(t,e)=>{var a,i;return e.index<o.length?null==(a=r.data[t][e.index])?void 0:a.title:null==(i=n[t][e.mIndex])?void 0:i.v};a.sort(((t,r)=>{let n=0;return e.some((e=>{const o=((t,e,r)=>{if(null==t&&null==e)return 0;if(null==t)return r?-1:1;if(null==e)return r?1:-1;const n=String(t).trim(),o=String(e).trim(),a=Number(n),i=Number(o),u=!isNaN(a)&&isFinite(a)&&""!==n,c=!isNaN(i)&&isFinite(i)&&""!==o;return u&&c?r?a-i:i-a:r?n.localeCompare(o):o.localeCompare(n)})(i(t,e),i(r,e),"asc"===e.order);return 0!==o&&(n=o,!0)})),n}));const u=a.map((t=>r.data[t])),c=a.map((t=>n[t]));return{...t,row:{...r,data:u},data:c}},Mt=(t,e)=>`${t.name}_${e}`,Lt=[ut.METRIC,ut.METRIC_ADDITIONAL,ut.COLOR_BY,ut.SIZE_BY,ut.TOOLTIP],Rt=t=>t===ft.DETAIL_TABLE?ft.PIVOT_TABLE:t,Dt=(t,e)=>null==t?null:(Et(e)&&(t=+t),{v:t}),Nt=(t,e)=>{var r;return{fdId:t.name,title:t.name,fdType:t.fdType,metaType:t.metaType,key:null!=(r=t.key)?r:t.name,sortField:`c${e}`}},Pt=(t,e)=>{const r=t.reduce(((t,e,r)=>(t[e.name]=r,t)),{});return{getQueryDataValue:(t,n)=>{var o;return null==e||null==(o=e[t])?void 0:o[r[n]]},getQueryColumnIdx:t=>r[t]}},Ut=t=>{const e=Array(t).fill(null);return{conditionFormat:e,linkFormat:e,numberFormat:e}},Bt=t=>({numberFormat:Array(t).fill(null)}),jt=(t,e)=>Lt.flatMap((r=>{var n,o;return null!=(n=null==(o=t[r])?void 0:o.map(((t,r)=>((t,e,r)=>{var n;return{title:t.name,fdType:t.fdType,type:"metric",key:null!=(n=t.key)?n:t.name,fmt_idx:e,sortField:`c${r}`}})(t,r,e(t.name)))))?n:[]})),Ft={metricsOnly(t,e,r){const{getQueryDataValue:n,getQueryColumnIdx:o}=Pt(e,r),a=jt(t,o);let i=[];r.length&&(i=r.map(((t,e)=>a.map((t=>Dt(n(e,t.title),t.fdType))))));return{column:{fields:[pt],data:a.map((t=>[t])),metricFieldFormat:Ut(a.length)},row:{fields:[],data:r.length?Array(r.length).fill([]):[],rowFieldFormat:Bt(0)},data:i,hasDuplicateRows:r.length>1,count:i.length}},noColumns(t,e,r){var n;const o=null!=(n=t[ut.ROW])?n:[];if(!o.length)return Ft.metricsOnly(t,e,r);const{getQueryDataValue:a,getQueryColumnIdx:i}=Pt(e,r),u=jt(t,i),c=o.map((t=>Nt(t,i(t.name))));let s=!1,l={},f=r.length?[[]]:[];c.length&&(f=r.map(((t,e)=>{const r=c.map((t=>a(e,t.title)));return ot(r,l)&&(s=!0),l=g(r,!0,l),r})));let p=[];return r.length&&(p=f.map(((t,e)=>u.map((t=>Dt(a(e,t.title),t.fdType)))))),{column:{fields:[pt],data:u.map((t=>[t])),metricFieldFormat:Ut(u.length)},row:{fields:c,data:f.map((t=>t.map(((t,e)=>({title:t,num_fmt_idx:e,titleType:c[e].fdType}))))),rowFieldFormat:Bt(c.length)},data:p,hasDuplicateRows:s,count:p.length}},default(t,e,r){var n,o;if(!At(t[ut.COLUMN]).length)return Ft.noColumns(t,e,r);const a=null!=(n=t[ut.ROW])?n:[],i=null!=(o=t[ut.COLUMN])?o:[],{getQueryDataValue:u,getQueryColumnIdx:c}=Pt(e,r),l=jt(t,c),f=At(i).map((t=>Nt(t,c(t.name)))),p=a.map((t=>Nt(t,c(t.name))));let h=!1,d={},v=r.length?[[]]:[];p.length&&(v=r.reduce(((t,e,r)=>{const n=p.map((t=>u(r,t.title))),o=f.map((t=>u(r,t.title)));ot(n,d)||t.push(n);const a=[...n,...o];return ot(a,d)&&(h=!0),d=g(a,r,d),t}),[]));let y={},m=[[]];f.length&&(m=r.reduce(((t,e,r)=>{const n=f.map((t=>u(r,t.title)));return p.length||(d=g(n,r,d)),ot(n,y)||(t.push(n),y=g(n,!0,y)),t}),[]));let A=[];return r.length&&(A=v.map((t=>m.flatMap((e=>{const r=t.concat(e),n=r.length?s(r,d):0;return l.map((t=>Dt(u(n,t.title),t.fdType)))}))))),{column:{fields:f.concat(pt),data:m.flatMap((t=>{const e=t.map((t=>({title:t})));return l.map((t=>e.concat(t)))})),metricFieldFormat:Ut(l.length)},row:{fields:p,data:v.map((t=>t.map(((t,e)=>({title:t,num_fmt_idx:e,titleType:p[e].fdType}))))),rowFieldFormat:Bt(p.length)},data:A,hasDuplicateRows:h,count:A.length}}},kt=Ft.default,Ht=(t,e,r)=>{let{queryColumns:n,queryData:o,size:a,originChartType:i}=r,u=t;u.chartMain.zoneInfo||(u=g(["chartMain","zoneInfo"],[],u));const c=((t,e,r)=>{let n=B(((t,e)=>K((t=>({...t,id:t.name,fdId:t.name,key:Mt(t,e)})))(t)),t);const o=(t,e)=>(n={...n,[e]:nt((t=>t.name),At(t.flatMap((t=>n[t]||[]))))},t.filter((t=>t!==e)).forEach((t=>{n[t]=[]})),n);e===ft.PIVOT_TABLE?(o(Lt,ut.METRIC),r&&r!==ft.PIVOT_TABLE&&(o([ut.ROW,ut.COLUMN],ut.ROW),n[ut.COLUMN]=[lt])):e===ft.DETAIL_TABLE?(o([ut.ROW,ut.COLUMN,...Lt],ut.METRIC),n[ut.COLUMN]=[lt],n[ut.METRIC].sort(((t,e)=>t.metaType!==e.metaType?t.metaType===ct.DIM?-1:1:t.name.localeCompare(e.name)))):n=K(At,n);return n})(u.chartMain.zoneData,e,i);u=g(["chartMain","zoneData"],c,u);const s=wt[e];if(s){const{data:t,row:e}=kt(u.chartMain.zoneData,n,o),r={chartMeta:u,queryColumns:n,queryData:o,rowsCount:t.length,data:t,row:e,size:a},{chartMeta:i}=s.reduce(((t,e)=>({...t,chartMeta:e(t)})),r);u=i}return((t,e)=>{var r;const{chartMain:n}=t,{props:o}=n;return{...t,chartMain:{...n,props:T(T(mt,null!=(r=gt[e])?r:{}),o)}}})(u,Rt(e))},zt=t=>({...it.convertNumberFormat(t),suffix:t.suffix,divideDataBy:t.divideDataBy}),Wt=t=>Object.values(t).flat().filter((t=>{var e;return null==t||null==(e=t.fieldFormat)?void 0:e.numberFormat})).map((t=>{let{name:e,fieldFormat:r}=t;return{id:e,format:zt(r.numberFormat)}}));class Gt extends HTMLElement{constructor(){super(...arguments),this.chartId="",this.chartType="",this.chartData={},this.chartMeta={},this.metrics=[],this.theme=o.LIGHT,this.renderType=a.CARD,this.url="",this.staticHtml=!1,this.iframe=null,this.handleReadyMessage=e=>{const{data:r}=e;(null==r?void 0:r.type)===t.CHART_READY&&(null==r?void 0:r.id)===this.chartId&&(this.renderChart(),window.removeEventListener("message",this.handleReadyMessage))},this.handleTableHeaderSort=t=>{if(t.length){const e=_t(this.chartData,t);this.renderData({...e,extra:{headerSortings:t}})}else this.renderData(this.chartData)},this.handleEventMessage=r=>{const{data:n}=r;if((null==n?void 0:n.type)===t.CHART_EVENT&&(null==n?void 0:n.id)===this.chartId){if(n.payload.name===e.TableHeaderSort)return void this.handleTableHeaderSort(n.payload.headerSortings);this.dispatchEvent(new CustomEvent(null==n?void 0:n.type,{detail:n.payload}))}}}static get observedAttributes(){return["chart-id","chart-type"]}setUrl(t){this.url=t}setTheme(t){this.theme=t,this.iframe&&this.postEventMessage({name:e.ChangeTheme,theme:t})}async renderOpenChart(){this.addEvents();const t=(t=>{let{staticHtml:e,url:r,theme:n,chartId:o}=t;return e?`${r}/unauth/open/chart/index.html?id=${o}&theme=${n}`:`${r}/unauth/open/chart/${o}?theme=${n}`})({staticHtml:this.staticHtml,url:this.url,theme:this.theme,chartId:this.chartId});this.innerHTML=`<iframe src="${t}" style="width: 100%; height: 100%; border: 0;"></iframe>`,this.iframe=this.querySelector("iframe")}postEventMessage(e){var r;this.iframe&&(null==(r=this.iframe.contentWindow)||r.postMessage({type:t.CHART_EVENT,id:this.chartId,payload:e},"*"))}addEvents(){this.clearEvents(),window.addEventListener("message",this.handleReadyMessage),window.addEventListener("message",this.handleEventMessage)}clearEvents(){window.removeEventListener("message",this.handleReadyMessage),window.removeEventListener("message",this.handleEventMessage)}renderChart(){var e;this.iframe&&(null==(e=this.iframe.contentWindow)||e.postMessage({type:t.CHART_DATA,id:this.chartId,chartData:this.chartData,chartMeta:this.chartMeta,chartType:this.chartType,metrics:this.metrics,renderType:this.renderType},"*"))}renderData(e){var r;this.iframe&&(null==(r=this.iframe.contentWindow)||r.postMessage({type:t.CHART_DATA,id:this.chartId,chartData:e},"*"))}updateChart(t){const{chartData:e,chartMeta:r,chartType:n,metrics:o}=t;e&&(this.chartData=e),r&&(this.chartMeta=r),n&&(this.chartType=n),o&&(this.metrics=o),this.renderChart()}attributeChangedCallback(t,e,r){e!==r&&("chart-id"===t&&(this.chartId=r,this.renderOpenChart()),"chart-type"===t&&(this.chartType=r),this.renderChart())}setupDefaultStyle(){this.style.display="block",this.style.position="relative",this.style.width="100%",this.style.height="100%"}connectedCallback(){this.setupDefaultStyle(),this.chartId=this.getAttribute("chart-id")||"",this.chartType=this.getAttribute("chart-type")||"",this.renderOpenChart()}disconnectedCallback(){this.clearEvents(),this.iframe=null}static registerWebComponent(){window.customElements.get(Gt.componentName)||window.customElements.define(Gt.componentName,Gt)}}Gt.componentName="gd-open-chart";class Vt{constructor(t,e){var r,n;if(this.openChartAttached=!1,this.destroyed=!1,Gt.registerWebComponent(),!t)throw new Error("dom is required");if(this.dom=t,null==e||null==(r=e.BIAddress)||!r.baseUrl)throw new Error("BIAddress.baseUrl is required");this.config=e,this.openChart=document.createElement(Gt.componentName);const o=e.BIAddress.baseUrl.replace(/\/$/,"")+(null!=(n=e.BIAddress.publicPath)?n:"");this.openChart.setUrl(o),e.BIAddress.staticHtml&&(this.openChart.staticHtml=!0),e.theme&&this.openChart.setTheme(e.theme),e.renderType&&(this.openChart.renderType=e.renderType)}setEventCallback(e){var r;null==(r=this.removeEventCallback)||r.call(this),this.openChart.addEventListener(t.CHART_EVENT,e),this.removeEventCallback=()=>this.openChart.removeEventListener(t.CHART_EVENT,e)}attachOpenChart(t){if(!this.destroyed){if(!t)throw new Error("option.chartId/message.message_id is required");this.openChart.setAttribute("chart-id",t),this.openChartAttached||(this.dom.appendChild(this.openChart),this.openChartAttached=!0)}}setTheme(t){var e;null==(e=this.openChart)||e.setTheme(t)}setOption(t){var e;this.attachOpenChart(t.chartId),null==(e=this.openChart)||e.updateChart(t)}setMessage(t,e){var r,n,o;if(null==t||!t.message_id)throw new Error("只支持传入 ChatBI 的 message 数据");const a={...t};if(null==a.card&&a.query_result.columns&&(a.card=(t=>{const e={numberFormat:{formatType:at.NUMBER,decimalPlaces:2,useThousandsSeparator:!0,suffix:"",divideDataBy:1}};return{card_version:2,card_meta:{chartType:ft.PIVOT_TABLE,chartMeta:{chartMain:{zoneData:{row:t.map((t=>({name:t.name,fdType:t.fdType,metaType:ct.DIM,...Et(t.fdType)&&{fieldFormat:e}}))),column:[lt]},props:{}}}}}})(a.query_result.columns)),2!==(null==a||null==(r=a.card)?void 0:r.card_version)){var i,u;if(null==a||null==(i=a.card)||!i.card_version)throw new Error("不支持渲染初版 message 数据，请使用 echarts 自行渲染！");throw new Error(`不支持的版本(card.card_version): ${null==a||null==(u=a.card)?void 0:u.card_version}`)}this.attachOpenChart(a.message_id);const c=((t,e)=>{let{size:r,chartType:n}=e;const{card:o,query_result:a}=t,{columns:i,preview:u}=a,{chartType:c,chartMeta:s}=o.card_meta,l=null!=n?n:c,f=Ht(s,l,{queryColumns:i,queryData:u,size:r,originChartType:c}),p=f.chartMain.zoneData;return{chartId:t.message_id,chartType:Rt(l),chartMeta:f,chartData:kt(p,i,u),metrics:Wt(p)}})(a,{size:null==(n=this.openChart)||null==n.getBoundingClientRect?void 0:n.getBoundingClientRect(),chartType:Vt.isDataNotAggregated(a)?ft.DETAIL_TABLE:e});null==(o=this.openChart)||o.updateChart(c)}setGuanViz(t,e){if(!dt(t))throw new Error("GuanViz 配置格式不正确");this.setMessage(((t,e)=>{let{viz_config:r,data_info:n}=t;return{message_id:e,card:{card_version:2,card_meta:r},query_result:n}})(t,e))}destroy(){var t;this.destroyed||(null==(t=this.removeEventCallback)||t.call(this),this.openChart&&this.dom.contains(this.openChart)&&this.dom.removeChild(this.openChart),this.openChartAttached=!1,this.openChart=null,this.dom=null,this.config=null,this.destroyed=!0)}static getAvailableChartTypes(t){if(dt(t)){const{chartMeta:e,chartType:r}=t.viz_config;return xt(e,r)}if((t=>null==t?void 0:t.chartId)(t)){const{chartMeta:e,chartType:r}=t;return xt(e,r)}if((t=>(null==t?void 0:t.message_id)&&(null==t?void 0:t.query_result))(t)){var e,r;const{chartMeta:n,chartType:o}=null!=(e=null==(r=t.card)?void 0:r.card_meta)?e:{};return xt(n,o)}return[]}static isDataNotAggregated(t){if(this.isMessageHasViz(t)){const{card:e,query_result:r}=t,{columns:n,preview:o}=r,{chartMeta:a}=e.card_meta;return((t,e,r)=>{const{chartMain:n}=t,{zoneData:o}=n,{hasDuplicateRows:a}=kt(o,e,r);return a})(a,n,o)}return!1}static isMessageHasViz(t){var e,r;const{card:n}=t;return 2===n.card_version&&!(null==n||null==(e=n.card_meta)||!e.chartType||null==n||null==(r=n.card_meta)||null==(r=r.chartMeta)||null==(r=r.chartMain)||!r.zoneData)}}Vt.CHART_TYPE=ft,Vt.convertNumberFormat=zt,Vt.version="1.0.7"})(),n})()));